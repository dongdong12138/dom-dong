{"version":3,"sources":["jquery.js"],"names":["window","$","jQuery","selectorOrArrayOrTemplate","elements","createElement","document","querySelectorAll","Array","string","container","innerHTML","trim","content","firstChild","api","Object","create","prototype","assign","oldApi","fn","constructor","jquery","get","index","appendTo","node","Element","each","appendChild","el","append","children","HTMLCollection","i","length","addClass","className","classList","add","find","selector","array","elements2","from","concat","end","call","parent","indexOf","parentNode","push","print","console","log"],"mappings":"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","file":"jquery.9f7c3eb0.map","sourceRoot":"..\\src\\jquery","sourcesContent":["window.$ = window.jQuery = function (selectorOrArrayOrTemplate) {\r\n\r\n    let elements\r\n    if (typeof selectorOrArrayOrTemplate === \"string\") {\r\n        if (selectorOrArrayOrTemplate[0] === \"<\") {\r\n            // 创建 div\r\n            elements = [createElement(selectorOrArrayOrTemplate)]\r\n        } else {\r\n            // 查找 div\r\n            elements = document.querySelectorAll(selectorOrArrayOrTemplate)\r\n        }\r\n    }\r\n    if (selectorOrArrayOrTemplate instanceof Array) {\r\n        elements = selectorOrArrayOrTemplate\r\n    }\r\n\r\n    function createElement(string) {\r\n        const container = document.createElement(\"template\")\r\n        container.innerHTML = string.trim()\r\n        return container.content.firstChild\r\n    }\r\n\r\n    /* jQuery 精髓：1. 使用闭包，访问外部变量，使得外部变量一直存在，不会被浏览器回收\r\n     * jQuery 精髓：2. return this，以此实现链式操作\r\n\r\n    // api 可以操作 elements\r\n    const api = {\r\n\r\n        // 闭包：函数访问外部变量\r\n        addClass(className) {\r\n            for (let i = 0; i < elements.length; i ++) {\r\n                elements[i].classList.add(className)\r\n            }\r\n            // return api      // api 对象中的函数又 return api，以此实现链式操作\r\n            // 实际使用：api.addClass('red')\r\n            // 相当于：  api.addClass.call(api, 'red')\r\n            // 所以，this 就是 api\r\n            return this\r\n        }\r\n\r\n    }\r\n    return api\r\n\r\n    // 以上代码可以改写成\r\n    return {\r\n        addClass(className) {\r\n            for (let i = 0; i < elements.length; i++) {\r\n                elements[i].classList.add(className)\r\n            }\r\n            return this\r\n        }\r\n    }\r\n\r\n    */\r\n\r\n    const api = Object.create(jQuery.prototype)\r\n    Object.assign(api, {\r\n        elements: elements,\r\n        oldApi: selectorOrArrayOrTemplate.oldApi\r\n    })\r\n    return api\r\n\r\n}\r\n\r\njQuery.fn = jQuery.prototype = {\r\n\r\n    constructor: jQuery,\r\n    jquery: true,\r\n\r\n    get(index) {\r\n        return this.elements[index]\r\n    },\r\n\r\n    appendTo(node) {\r\n        if (node instanceof Element) {\r\n            this.each(el => node.appendChild(el))\r\n        }\r\n        if (node.jquery === true) {\r\n            this.each(el => node.get(0).appendChild(el))\r\n        }\r\n    },\r\n\r\n    append(children) {\r\n        if (children instanceof Element) {\r\n            this.get(0).appendChild(children)\r\n        }\r\n        if (children instanceof HTMLCollection) {\r\n            for (let i = 0; i < children.length; i++) {\r\n                this.get(0).appendChild(children[i])\r\n            }\r\n        }\r\n        if (children.jquery === true) {\r\n            children.each(node => this.get(0).appendChild(node))\r\n        }\r\n    },\r\n\r\n    addClass(className) {\r\n        for (let i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].classList.add(className)\r\n        }\r\n        return this\r\n    },\r\n\r\n    find(selector) {\r\n        let array = []\r\n        for (let i = 0; i < this.elements.length; i++) {\r\n            const elements2 = Array.from(this.elements[i].querySelectorAll(selector))\r\n            array = array.concat(elements2)\r\n        }\r\n        array.oldApi = this     // this 是旧的 api\r\n        return jQuery(array)\r\n    },\r\n\r\n    end() {\r\n        return this.oldApi      // this 是新的 api\r\n    },\r\n\r\n    each(fn) {\r\n        for (let i = 0; i < this.elements.length; i++) {\r\n            fn.call(null, this.elements[i], i)\r\n        }\r\n        return this\r\n    },\r\n\r\n    parent() {\r\n        const array = []\r\n        this.each((node) => {\r\n            if (array.indexOf(node.parentNode) === -1) {\r\n                array.push(node.parentNode)\r\n            }\r\n        })\r\n        return jQuery(array)\r\n    },\r\n\r\n    children() {\r\n        const array = []\r\n        this.each((node) => {\r\n            array.push(...node.children)\r\n        })\r\n        return jQuery(array)\r\n    },\r\n\r\n    print() {\r\n        console.log(this.elements)\r\n    }\r\n\r\n}"]}